<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Collection and verification of helper functions for dose-response analysis • drcHelper</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Collection and verification of helper functions for dose-response analysis">
<meta name="description" content="Helper functions for drc package and other dose-response analysis functions.">
<meta property="og:description" content="Helper functions for drc package and other dose-response analysis functions.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">drcHelper</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.0.4.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get Started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started">
<li><a class="dropdown-item" href="articles/Introduction.html">Introduction</a></li>
    <li><a class="dropdown-item" href="articles/Example_Analysis_Workflow.html">Example Analysis Workflow</a></li>
    <li><a class="dropdown-item" href="articles/drcHelper.html">Example ECx Helper Functions Usage</a></li>
    <li><a class="dropdown-item" href="articles/Dunnetts_Test_for_Data_with_Hierarchical_Structure.html">Example NOEC Helper Functions Usage</a></li>
    <li><a class="dropdown-item" href="articles/Examples_drc.html">Using DRC and BMD</a></li>
    <li><a class="dropdown-item" href="articles/Examples_oecd201.html">Example DRC - OECD 201</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-regulatory-stats" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Regulatory Stats</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-regulatory-stats">
<li><a class="dropdown-item" href="articles/NOEC_Methods.html">NOEC Calculations</a></li>
    <li><a class="dropdown-item" href="articles/Limit-Test.html">Limit Test Calculations</a></li>
    <li><a class="dropdown-item" href="articles/EFSA-Criteria.html">EFSA Criteria and Other Reliability Criteria</a></li>
    <li><a class="dropdown-item" href="articles/Example_RSCABS.html">RSCABS</a></li>
    <li><a class="dropdown-item" href="articles/Trend-Testing.html">Trend Testing</a></li>
    <li><a class="dropdown-item" href="articles/NOEC_ECx_BMD.html">NOEC ECx and BMD</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/Quantal-Data.html">Core: Quantal Data</a></li>
    <li><a class="dropdown-item" href="articles/Ordinal-Data.html">Core: Ordinal Data</a></li>
    <li><a class="dropdown-item" href="articles/Count_Data.html">Core: Count Data</a></li>
    <li><a class="dropdown-item" href="articles/LMM-GLMM-and-GAMM.html">Core: Understanding Mixed Models</a></li>
    <li><a class="dropdown-item" href="articles/Normality-Check.html">Advanced: Normality Check</a></li>
    <li><a class="dropdown-item" href="articles/Binomial_Extra_Variance.html">Advanced: Extra Binomial Variance and Trend Test</a></li>
    <li><a class="dropdown-item" href="articles/Equivalence-Testing.html">Advanced: Equivalence Testing</a></li>
    <li><a class="dropdown-item" href="articles/Examples%20using%20NLS.html">Alternative: NLS Approaches</a></li>
    <li><a class="dropdown-item" href="articles/Examples_using_drda.html">Alternative: Using drda Package</a></li>
    <li><a class="dropdown-item" href="articles/TSK_method.html">Alternative: TSK Method</a></li>
    <li><a class="dropdown-item" href="articles/MQJT.html">Alternative: MQJT Analysis</a></li>
    <li><a class="dropdown-item" href="articles/Advanced_Fitting-a-biphasic-dose-reponse-model.html">Alternative: Advanced Model Fitting</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-validation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Validation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-validation">
<li><a class="dropdown-item" href="articles/System_Testing.html">System Testing</a></li>
    <li><a class="dropdown-item" href="articles/val_ED_plus.html">ED Calculation Consistency</a></li>
    <li><a class="dropdown-item" href="articles/TSK-and-Probit-Models.html">TSK and Probit Model</a></li>
    <li><a class="dropdown-item" href="articles/Verification_which_JT.html">Which JT test to use</a></li>
    <li><a class="dropdown-item" href="articles/Test-Guidelines.html">Study Types and Templates</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Bayer-Group/drcHelper/issues/new?template=Blank+issue" aria-label="New Issue"><span class="fa fa-bug"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Bayer-Group/drcHelper" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="drchelper">drcHelper<a class="anchor" aria-label="anchor" href="#drchelper"></a>
</h1></div>
<!-- badges: start -->
<!--[![R-CMD-check](https://github.com/Bayer-Group/drcHelper/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/Bayer-Group/drcHelper/actions/workflows/R-CMD-check.yaml) -->
<!-- Workflow badges for main and dev branches -->

<p>The goal of <strong>drcHelper</strong> is to assist with routine dose-response analysis by providing a collection of helper functions and standalone functions that are generic and may be useful beyond our organization.</p>
<p>As part of the GLP stat pilot project, this package serves as a cornerstone for the second use case, EFX Statistics. It will streamline GLP statistical analyses for various dose-response studies and test assays within our registration data package. This ensures that the analyses remain current, state-of-the-art, and flexible enough to adapt to new regulatory requirements while complying with GLP standards.</p>
<p>The package also includes test cases and examples to help the regulatory statistical community understand the reasons behind different outcomes. For instance, point estimations and p-values may vary depending on the parties involved, the functions used, or the packages selected. It aims to promote a harmonized understanding of methodologies and provide a foundation for standardized practices in the regulatory statistics field for plant protection product registration. Additionally, it is hoped that this project will contribute to the ongoing OECD 54 revision process.</p>
<p>Some of the functions are adapted from archived packages or single functions of a bigger package so that the loaded namespace is not too big for small calculations. Some of the functions are included for testing and validation purposes. All third-party code with a different license are specified in the relevant source files with the license name and the relevant copyright texts.</p>
<p>This package is open source, and any contributions or improvements, especially on the documentation side, are welcome.</p>
<p><em>Please note that the documentation website for this package is currently under development. Some articles are still placeholders, and many more are on the way. However, the ongoing development of the website does not impact the usage of this R package. </em></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of drcHelper from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Bayer-Group/drcHelper"</span><span class="op">)</span></span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"Bayer-Group/drcHelper"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
</div>
<div class="section level2">
<h2 id="data-overview">Data Overview<a class="anchor" aria-label="anchor" href="#data-overview"></a>
</h2>
</div>
<div class="section level2">
<h2 id="preliminary-summary">Preliminary Summary<a class="anchor" aria-label="anchor" href="#preliminary-summary"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bayer-group.github.io/drcHelper/index.html">drcHelper</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"dat_medium"</span><span class="op">)</span></span>
<span><span class="va">dat_medium</span> <span class="op">&lt;-</span> <span class="va">dat_medium</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">mutate</span><span class="op">(</span>Treatment<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">Dose</span>,levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">Dose</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">dat_medium</span><span class="op">$</span><span class="va">Response</span><span class="op">[</span><span class="va">dat_medium</span><span class="op">$</span><span class="va">Response</span> <span class="op">&lt;</span> <span class="fl">0</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span><span class="fu"><a href="reference/prelimPlot3.html">prelimPlot3</a></span><span class="op">(</span><span class="va">dat_medium</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png" width="100%"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/prelimSummary.html">prelimSummary</a></span><span class="op">(</span><span class="va">dat_medium</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">.</span>,digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">Dose</th>
<th align="right">Mean</th>
<th align="right">SD</th>
<th align="right">% Inhibition</th>
<th align="right">CV</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0.00</td>
<td align="right">7.736</td>
<td align="right">0.635</td>
<td align="right">0.000</td>
<td align="right">8.203</td>
</tr>
<tr class="even">
<td align="right">0.94</td>
<td align="right">7.669</td>
<td align="right">0.633</td>
<td align="right">0.858</td>
<td align="right">8.259</td>
</tr>
<tr class="odd">
<td align="right">1.88</td>
<td align="right">6.563</td>
<td align="right">0.275</td>
<td align="right">15.161</td>
<td align="right">4.197</td>
</tr>
<tr class="even">
<td align="right">3.75</td>
<td align="right">2.596</td>
<td align="right">0.524</td>
<td align="right">66.440</td>
<td align="right">20.175</td>
</tr>
<tr class="odd">
<td align="right">7.50</td>
<td align="right">0.429</td>
<td align="right">0.128</td>
<td align="right">94.456</td>
<td align="right">29.865</td>
</tr>
<tr class="even">
<td align="right">15.00</td>
<td align="right">0.859</td>
<td align="right">0.372</td>
<td align="right">88.892</td>
<td align="right">43.296</td>
</tr>
<tr class="odd">
<td align="right">30.00</td>
<td align="right">0.465</td>
<td align="right">0.485</td>
<td align="right">93.984</td>
<td align="right">104.162</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="fitting-multiple-models-and-rank-them">Fitting multiple models and rank them.<a class="anchor" aria-label="anchor" href="#fitting-multiple-models-and-rank-them"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/drc/man/drm.html" class="external-link">drm</a></span><span class="op">(</span><span class="va">Response</span><span class="op">~</span><span class="va">Dose</span>,data<span class="op">=</span><span class="va">dat_medium</span>,fct<span class="op">=</span><span class="fu"><a href="https://rdrr.io/pkg/drc/man/LL.3.html" class="external-link">LL.3</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">fctList</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/drc/man/lnormal.html" class="external-link">LN.4</a></span><span class="op">(</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/pkg/drc/man/LL.4.html" class="external-link">LL.4</a></span><span class="op">(</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/pkg/drc/man/W3.html" class="external-link">W1.3</a></span><span class="op">(</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/pkg/drc/man/LL.2.html" class="external-link">LL2.2</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># plot(mod,type="all")</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mselect.plus.html">mselect.plus</a></span><span class="op">(</span><span class="va">mod</span>,fctList <span class="op">=</span> <span class="va">fctList</span> <span class="op">)</span></span>
<span><span class="va">modList</span> <span class="op">&lt;-</span> <span class="va">res</span><span class="op">$</span><span class="va">modList</span></span>
<span><span class="va">res</span><span class="op">$</span><span class="va">Comparison</span></span>
<span><span class="co">#&gt;          logLik        IC  Lack of fit    Res var</span></span>
<span><span class="co">#&gt; LN.4  -15.45496  40.90992 5.893537e-01  0.2547068</span></span>
<span><span class="co">#&gt; LL.4  -15.69685  41.39370 5.180082e-01  0.2598931</span></span>
<span><span class="co">#&gt; LL.3  -19.24379  46.48759 6.848925e-02  0.3326394</span></span>
<span><span class="co">#&gt; W1.3  -20.55410  49.10820 4.800972e-02  0.3710183</span></span>
<span><span class="co">#&gt; LL2.2 -70.79793 147.59586 8.398391e-17 23.3118491</span></span>
<span></span>
<span><span class="fu"><a href="reference/drcCompare.html">drcCompare</a></span><span class="op">(</span>modRes<span class="op">=</span><span class="va">res</span><span class="op">)</span></span>
<span><span class="co">#&gt;          logLik        IC  Lack of fit    Res var Certainty_Protection</span></span>
<span><span class="co">#&gt; LN.4  -15.45496  40.90992 5.893537e-01  0.2547068                 High</span></span>
<span><span class="co">#&gt; LL.4  -15.69685  41.39370 5.180082e-01  0.2598931                 High</span></span>
<span><span class="co">#&gt; LL.3  -19.24379  46.48759 6.848925e-02  0.3326394                 High</span></span>
<span><span class="co">#&gt; W1.3  -20.55410  49.10820 4.800972e-02  0.3710183               Medium</span></span>
<span><span class="co">#&gt; LL2.2 -70.79793 147.59586 8.398391e-17 23.3118491                  Low</span></span>
<span><span class="co">#&gt;       Steepness No Effect p-val</span></span>
<span><span class="co">#&gt; LN.4     Medium               0</span></span>
<span><span class="co">#&gt; LL.4     Medium               0</span></span>
<span><span class="co">#&gt; LL.3     Medium               0</span></span>
<span><span class="co">#&gt; W1.3     Medium               0</span></span>
<span><span class="co">#&gt; LL2.2     Steep               1</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="va">edResTab</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mselect.ED.html">mselect.ED</a></span><span class="op">(</span>modList <span class="op">=</span> <span class="va">modList</span>,respLev <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>,trend<span class="op">=</span><span class="st">"Decrease"</span>,CI<span class="op">=</span><span class="st">"inv"</span><span class="op">)</span></span>
<span><span class="va">edResTab</span></span>
<span><span class="co">#&gt;      .id Estimate Std. Error    Lower    Upper        NW      Rating    EC</span></span>
<span><span class="co">#&gt; 1   LN.4 1.699273         NA 1.464617 1.990240 0.3093219        Good EC 10</span></span>
<span><span class="co">#&gt; 2   LN.4 2.067034         NA 1.817202 2.321445 0.2439457        Good EC 20</span></span>
<span><span class="co">#&gt; 3   LN.4 3.034117         NA 2.785528 3.283618 0.1641632   Excellent EC 50</span></span>
<span><span class="co">#&gt; 4   LL.4 1.680896         NA 1.421435 2.018155 0.3550014        Good EC 10</span></span>
<span><span class="co">#&gt; 5   LL.4 2.084252         NA 1.812372 2.371154 0.2680974        Good EC 20</span></span>
<span><span class="co">#&gt; 6   LL.4 3.040373         NA 2.770313 3.299156 0.1739402   Excellent EC 50</span></span>
<span><span class="co">#&gt; 7   LL.3 1.577783         NA 1.284085 1.961887 0.4295911        Good EC 10</span></span>
<span><span class="co">#&gt; 8   LL.3 2.019241         NA 1.705807 2.342361 0.3152440        Good EC 20</span></span>
<span><span class="co">#&gt; 9   LL.3 3.078550         NA 2.783875 3.366535 0.1892644   Excellent EC 50</span></span>
<span><span class="co">#&gt; 10  W1.3 1.588627         NA 1.207649 2.091723 0.5565024        Fair EC 10</span></span>
<span><span class="co">#&gt; 11  W1.3 2.092288         NA 1.686784 2.491398 0.3845617        Good EC 20</span></span>
<span><span class="co">#&gt; 12  W1.3 3.171479         NA 2.861093 3.436843 0.1815399   Excellent EC 50</span></span>
<span><span class="co">#&gt; 13 LL2.2       NA         NA       NA       NA        NA Not defined EC 10</span></span>
<span><span class="co">#&gt; 14 LL2.2       NA         NA       NA       NA        NA Not defined EC 20</span></span>
<span><span class="co">#&gt; 15 LL2.2       NA         NA       NA       NA        NA Not defined EC 50</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="plot-multiple-models-together">Plot multiple models together<a class="anchor" aria-label="anchor" href="#plot-multiple-models-together"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/plot.modList.html">plot.modList</a></span><span class="op">(</span><span class="va">modList</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">p</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="adding-ecx-and-ecx-cis-to-the-plots">Adding ECx and ECx CI’s to the plots<a class="anchor" aria-label="anchor" href="#adding-ecx-and-ecx-cis-to-the-plots"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/plot.modList.html">plot.modList</a></span><span class="op">(</span><span class="va">modList</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/addECxCI.html">addECxCI</a></span><span class="op">(</span><span class="va">p1</span>,object<span class="op">=</span><span class="va">modList</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,EDres<span class="op">=</span><span class="cn">NULL</span>,trend<span class="op">=</span><span class="st">"Decrease"</span>,endpoint<span class="op">=</span><span class="st">"EC"</span>, respLev<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>,</span>
<span>                     textAjust.x<span class="op">=</span><span class="fl">0.01</span>,textAjust.y<span class="op">=</span><span class="fl">0.3</span>,useObsCtr<span class="op">=</span><span class="cn">FALSE</span>,d0<span class="op">=</span><span class="cn">NULL</span>,textsize <span class="op">=</span> <span class="fl">4</span>,lineheight <span class="op">=</span> <span class="fl">0.5</span>,xmin<span class="op">=</span><span class="fl">0.012</span><span class="op">)</span><span class="op">+</span> <span class="fu">ylab</span><span class="op">(</span><span class="st">"Response Variable [unit]"</span><span class="op">)</span> <span class="op">+</span> <span class="fu">xlab</span><span class="op">(</span><span class="st">"Concentration [µg a.s./L]"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png" width="100%"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## addECxCI(p)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="report-ecx">Report ECx<a class="anchor" aria-label="anchor" href="#report-ecx"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">resED</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">edResTab</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">resED</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"EC"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">resED</span>,caption <span class="op">=</span> <span class="st">"Response Variable at day N"</span>,digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">EC 10</th>
<th align="right">EC 20</th>
<th align="right">EC 50</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Estimate</td>
<td align="right">1.699</td>
<td align="right">2.067</td>
<td align="right">3.034</td>
</tr>
<tr class="even">
<td align="left">Lower</td>
<td align="right">1.465</td>
<td align="right">1.817</td>
<td align="right">2.786</td>
</tr>
<tr class="odd">
<td align="left">Upper</td>
<td align="right">1.990</td>
<td align="right">2.321</td>
<td align="right">3.284</td>
</tr>
<tr class="even">
<td align="left">NW</td>
<td align="right">0.309</td>
<td align="right">0.244</td>
<td align="right">0.164</td>
</tr>
</tbody>
</table>
<p>Response Variable at day N</p>
<p><strong>Calculate specific ECx: </strong></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op">&lt;-</span><span class="va">modList</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">edres</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ED.plus.html">ED.plus</a></span><span class="op">(</span><span class="va">mod</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">10</span>,<span class="fl">20</span>,<span class="fl">50</span><span class="op">)</span>,trend<span class="op">=</span><span class="st">"Decrease"</span><span class="op">)</span></span>
<span><span class="va">edres</span><span class="op"><a href="reference/pipe.html">%&gt;%</a></span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">.</span>,digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Estimate</th>
<th align="right">Std. Error</th>
<th align="right">Lower</th>
<th align="right">Upper</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">EC 5</td>
<td align="right">1.447</td>
<td align="right">0.163</td>
<td align="right">1.107</td>
<td align="right">1.787</td>
</tr>
<tr class="even">
<td align="left">EC 10</td>
<td align="right">1.699</td>
<td align="right">0.159</td>
<td align="right">1.367</td>
<td align="right">2.032</td>
</tr>
<tr class="odd">
<td align="left">EC 20</td>
<td align="right">2.067</td>
<td align="right">0.151</td>
<td align="right">1.753</td>
<td align="right">2.382</td>
</tr>
<tr class="even">
<td align="left">EC 50</td>
<td align="right">3.034</td>
<td align="right">0.152</td>
<td align="right">2.716</td>
<td align="right">3.352</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="model-output">Model Output<a class="anchor" aria-label="anchor" href="#model-output"></a>
</h2>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modsum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">modsum</span><span class="op">)</span>,digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">Estimate</th>
<th align="right">Std. Error</th>
<th align="right">t-value</th>
<th align="right">p-value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">b:(Intercept)</td>
<td align="right">-2.300</td>
<td align="right">0.309</td>
<td align="right">-7.441</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">c:(Intercept)</td>
<td align="right">0.532</td>
<td align="right">0.177</td>
<td align="right">3.005</td>
<td align="right">0.007</td>
</tr>
<tr class="odd">
<td align="left">d:(Intercept)</td>
<td align="right">7.719</td>
<td align="right">0.174</td>
<td align="right">44.474</td>
<td align="right">0.000</td>
</tr>
<tr class="even">
<td align="left">e:(Intercept)</td>
<td align="right">2.914</td>
<td align="right">0.148</td>
<td align="right">19.750</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="todo">ToDo<a class="anchor" aria-label="anchor" href="#todo"></a>
</h2>
<ul class="task-list">
<li><label><input type="checkbox">Develop all test cases for NOEC functions</label></li>
<li><label><input type="checkbox">Prepare the templates and standard outputs for all .</label></li>
<li><label><input type="checkbox">Update the documentation.</label></li>
</ul>
</div>
<div class="section level2">
<h2 id="contribution-notes">Contribution Notes<a class="anchor" aria-label="anchor" href="#contribution-notes"></a>
</h2>
<ul>
<li>Please create a pull request to contribute to the development of packages. Note that source branch is the branch you are currently working on when you run the <code>gh pr create</code> command.</li>
</ul>
<!-- --><div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>gh pr create <span class="sc">--</span>title <span class="st">"Title of the pull request"</span> <span class="sc">--</span>body <span class="st">"Description of the pull request"</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>gh pr create <span class="sc">--</span>title <span class="st">"Title of the pull request"</span> <span class="sc">--</span>body <span class="st">"Description of the pull request"</span> <span class="sc">--</span>base develop</span></code></pre></div>
<p>To use the pkgdown github workflow, some of the vignettes need to be pre-knit before pushing to the remote github repository if extra packages are needed and you don’s want to add those to the workflow. An example is given below.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/knit.html" class="external-link">knit</a></span><span class="op">(</span><span class="st">"vignettes/drcHelper.Rmd.orig"</span>, output <span class="op">=</span> <span class="st">"vignettes/drcHelper.Rmd"</span>,<span class="va">fi</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="acknowledgements">Acknowledgements<a class="anchor" aria-label="anchor" href="#acknowledgements"></a>
</h2>
<p>The work is supported by Bayer Environment Effects team members, especially by Andreas Solga and Daniela Jans. The Mesocosm colleagues Sarah Baumert and Harald Schulz have supported the verification and validation with extensive examples and scripts and SAS / VB validated calculations.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/Bayer-Group/drcHelper" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing drcHelper</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zhenglei Gao <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4042-310X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Sean Ryan <br><small class="roles"> Author </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhenglei Gao, Sean Ryan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
